<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Creating, Updating and Deleting Rows in a Data Source</title>
    <style>
        body { font-family: Verdana, sans-serif; padding: 40px; }
        h1 { color: #333; }
    </style>
</head>
<body>
    <h1>Creating, Updating and Deleting Rows in a Data Source</h1>
    <div dir="ltr"><p dir="ltr">Often you may want to allow the user to create, update or even delete rows on your Data Sources.</p><p dir="ltr">This is supported on our platform by setting up a Form in a few ways.</p><p><br></p><p dir="ltr">Note, the following functionality only works with existing data sources, hence you need to create the data source first before creating any data entry forms to create, update or delete rows from a data source.</p><p dir="ltr">This is key as Choices fields or Hidden Data Source fields need to be linked to the existing data source and additional fields could be required or optionally bound to columns in the data source, to display a row's column data.</p><p class="fd-toc"><br></p><ul><li><a href="#Creating-or-Updating-a-Row-(New-Screen)">Creating or Updating a Row (New Screen)</a></li><li><a href="#Creating-or-Updating-a-Row-(Existing-Screen)">Creating or Updating a Row (Existing Screen)</a></li><li><a dir="ltr" href="#Deleting-a-Row-from-a-Data-Source">Deleting a Row</a></li><li><a href="#Creating-or-Updating-Multiple-Rows">Creating or Updating Multiple Rows</a></li><li><a href="#Tips-&amp;-Tricks">Tips &amp; Tricks</a></li></ul><p><br></p><hr><h2 dir="ltr" id="Creating-or-Updating-a-Row-(New-Screen)">Creating or Updating a Row (New Screen)</h2><p><br></p><p dir="ltr">When you're looking to create a new Data Entry Form that can create or update a row in a data source, the simplest way to achieve this is to link a Data Source to the form before creating the form, before clicking "Create".</p><p dir="ltr"><br></p><p dir="ltr"><strong>Screens Page: </strong>Create New Screen</p><p dir="ltr"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070660364/original/_6V6zj1UG2-YpdhlmzW-UzOpWvk6LeYGGg.png?1616598508" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070660364"></p><p dir="ltr"><br></p><p dir="ltr">What this does is, when the form is created and the page is refreshed on the Form Designer page, the form will be prepopulated with a Choices field that is linked to the data source with its "Create/Update Row" property ticked, allowing the creation and updating of bound fields.</p><p dir="ltr"><br></p><p dir="ltr"><strong dir="ltr">Form Designer:</strong> Choices field linked to Data Source and configured to Create/Update Row</p><p dir="ltr"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070660590/original/xrDNjI_fORwgDQ3oo1aGeNg3jDASc6fgvA.png?1616598782" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070660590"></p><p dir="ltr"><br></p><p dir="ltr">And, all columns from the Data Source will be added as fields, titled accordingly to column headers from the Data Source and bound <span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'>respectively</span>.</p><p dir="ltr"><br></p><p dir="ltr"><span style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'>This binding means that the selected row's value for the given column will be set into the field, and also any edits in the field will be written back to that column.</span></p><p dir="ltr"><br></p><p dir="ltr"><strong>Form Designer: </strong>Text field bound to Data Source column</p><p dir="ltr"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070660721/original/iZmzIPv_DynsVBpvrP-v76BN3-SNOkPJ6Q.png?1616598907" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070660721"></p><p dir="ltr"><br></p><p dir="ltr">Note, prepopulated fields will only be of Text/Nuermic type, if your data source contains Date/Time, Location, Image data etc then you'll need to change these field types in the Form Designer and bind them to their respective Data Source column.</p><p><br></p><p dir="ltr">In-app, a user will now be able to select a row from the Choices field and update all fields except the Data Source's initial/unique ID column (column 0).</p><p dir="ltr"><br></p><p dir="ltr">If the Choices field is left blank, a new row will be created and the platform will generate a unique ID for the data source's initial column</p><p dir="ltr"><br></p><p dir="ltr">However, if you're looking to create a new row and enter your own row ID into the data source's initial column and not use the platform's generated ID.</p><p dir="ltr"><br></p><p dir="ltr">Then we suggest adding another field that is bound to the initial column to only display when the Choices field is blank.</p><p dir="ltr">Note, this field's data will need to be unique and not match any existing column data as the platform will only identify rows with non-duplicate values within the unique column/column 0.</p><p dir="ltr"><br></p><p dir="ltr"><strong>Most importantly,</strong> this method demonstrates the required steps for linking a data source to a form and binding fields to data source columns for row creating/updating/deleting.</p><p dir="ltr"><br></p><p dir="ltr">Basically:</p><ol><li dir="ltr">Have a <strong>Choices or Hidden Data Source field</strong> in your form</li><li dir="ltr"><strong>Link a Data Source</strong> to the Choices or Hidden Data Source field</li><li dir="ltr">Make sure the <strong>value column of the linking field</strong> (Choices/Hidden Data Source) is set to the <strong>Data Source's unique column</strong></li><li dir="ltr"><strong>Tick </strong>the desired property - <strong>Create/Update Row</strong> OR <strong>Delete</strong></li><li dir="ltr">If Creating/Updating, add additional fields and "Bind to Data Source Column" to display data, respectively</li><li dir="ltr">If Deleting, add at least one additional field and bind it to the unique column of the Data Source. Additional fields can be added and bound accordingly to display data aiding the user in confirming the correct row is being deleted.</li></ol><p dir="ltr"><br></p><hr><h2 dir="ltr" id="Creating-or-Updating-a-Row-(Existing-Screen)">Creating or Updating a Row (Existing Screen)</h2><p><br></p><p dir="ltr">Using a Choices field (allows for initial row selection)</p><ul><li dir="ltr">Add a Choices field</li><li dir="ltr">Link to Data Source</li><li dir="ltr">Tick "Update/Create Row" property</li><li dir="ltr">Add additional fields and set the "Bind To Data Source Column" property accordingly to update column data</li></ul><p dir="ltr"><br></p><p dir="ltr">Using a Hidden Data Source (doesn't allow for initial row selection hence requires filtering for row selection)</p><ul><li dir="ltr">Add a Hidden Data Source field</li><li dir="ltr">Link to Data Source</li><li dir="ltr">Tick "Update/Create Row" property</li><li dir="ltr">Add a field that will allow the user to enter in a value to match the data source's initial column or select from a list (via Choices) to filter the Hidden Data Source</li><li dir="ltr">Add criteria or formula to the Hidden Data Source allowing the Hidden Data Source to filter the row based on the user's entered/selected value (This is what selects the row to be updated)</li><li dir="ltr">Add additional fields and set the "Bind To Data Source Column" property accordingly to update column data</li></ul><p><br></p><hr><h2 dir="ltr" id="Deleting-a-Row-from-a-Data-Source">Deleting a Row</h2><p><br></p><p style="line-height: 16.9px;">For deletion cases, you must build a separate Form that will perform row deletes - i.e. you might have a Form already that does add/edit, but to do deletes you create a separate Form design.</p><p style="line-height: 16.9px;"><br></p><p style="line-height: 16.9px;">This is an intentional platform approach since it means the deletion operation is always silo'd to a dedicated Form design, which in turn avoids situations where a user might delete a row when they thought they were inserting/updating it.</p><p style="line-height: 16.9px;"><br></p><p style="line-height: 16.9px;">Once you have created your dedicated "Delete" Form:</p><p style="line-height: 16.9px;"><br></p><ol><li><span dir="ltr" style="line-height: 16.9px; text-align: initial;">Add a Choices field</span></li><li><span dir="ltr" style="line-height: 16.9px; text-align: initial;">Link the Choices field to your target Data Source.<br></span></li><li><span style="line-height: 16.9px; text-align: initial;"><span dir="ltr" style="line-height: 18px;">Tick the "Delete Row" property on your Choices field or a Hidden Data Source field.</span></span><br><span style="line-height: 16.9px; text-align: initial;"><span dir="ltr" style="line-height: 18px;"><br></span></span><span style="text-align: initial;">This instructs the Form to delete the selected row found in your Choices field </span><span style="line-height: 16.9px; text-align: initial;">when the user uploads the Form entry.<br></span><span dir="ltr" style="line-height: 16.9px; text-align: initial;">Deletion is performed based on the value in the first column of the row - remember our system always treats the first column as the row's unique identifier.</span><br><span style="line-height: 16.9px; text-align: initial;"><br></span><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070661380/original/zKT6M5DauxU44ts1lKB7UrzqiTfNIe06cw.png?1616599577" style="width: auto;" class="fr-fic fr-fil fr-dib" data-attachment="[object Object]" data-id="11070661380"><span style="line-height: 16.9px; text-align: initial;"><br></span></li><li><span style="line-height: 16.9px; text-align: initial;"><strong dir="ltr">You then need to have at least one field that is bound to a column (i.e Column 0) in the data source.</strong> This is by design in order for the form screen to validate exactly which data source row should be deleted when a form entry gets uploaded.</span><br><span style="line-height: 16.9px; text-align: initial;"><br>You may want to add some read-only fields which use the "Bind to Data Source Column" option to display additional column information to the user, allowing them to confirm the correct row is selected for deletion.</span><br><br><span dir="ltr" style="line-height: 16.9px; text-align: initial;"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070661217/original/EXHgETG5SMelHABzgY1RVRTbCnAm9nGJuA.png?1616599410" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070661217"></span></li></ol><p><br></p><hr><h2 dir="ltr" id="Creating-or-Updating-Multiple-Rows">Creating or Updating Multiple Rows</h2><p><br></p><p dir="ltr">If your Create/Update form has a repeatable page similarly set up as the example from the above "Creating or Updating a Row (New Screen)" section, then any row selection for each repeat from the Choices field will be updated or if not selected will create a new row.</p><p dir="ltr"><br></p><p dir="ltr"><strong>Page Field: </strong>Repeatable</p><ol><li dir="ltr">Add/Select Page field</li><li dir="ltr">Tick the Page field's "Repeatable" property</li></ol><p dir="ltr"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070662421/original/8gIqBIWNSyTp9n0mavGb3b3-CCGE0FU_ng.png?1616600613" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070662421"></p><p dir="ltr"><br></p><p dir="ltr">Alternatively, a Table field can be used with its "Populate From Data Source" property set, containing fields bound to desired data source columns that will not only display rows from the data source but also create new rows added to the table and update any changes made to existing rows displayed in the app.</p><p><br></p><p dir="ltr"><strong dir="ltr">Table Field: </strong>Populate From Data Source</p><ol><li dir="ltr">Add/Select Table field</li><li dir="ltr">Tick "Populate From Data Source" property of Table field</li><li dir="ltr">Link a Data Source</li><li dir="ltr">Tick "Create/Update Row"</li><li dir="ltr">Add fields into the Table field and "Bind to Data Source Column" property accordingly</li></ol><p><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070662722/original/G53YCAL5pARh0LdjCD460EhFeQ7rs2M2lA.png?1616600957" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070662722"></p><p><br></p><p dir="ltr">More information on our Table field type can be found <a href="https://support.Your Company.com/support/solutions/articles/11000024659-table-field-type" rel="noreferrer" target="_blank">here</a>.</p><hr><h2 dir="ltr" id="Tips-&amp;-Tricks">Tips &amp; Tricks</h2><p><br></p><p><b dir="ltr" style="font-size: medium;">Adding a Dummy Row to Display "Add New Row" Text as a Choices field Option (instead of leaving blank)</b></p><p><br></p><p dir="ltr">In reference to the example provided in "Creating or Updating a Row (New Screen)", and the functionality of leaving the Choices field blank, i.e. no option selected, to create a new row.</p><p dir="ltr"><br></p><p dir="ltr">If you'd prefer to have the end-user select an option of "Add New Row" for example, this is achievable by creating a dummy row in the Data Source.</p><p dir="ltr"><br></p><p dir="ltr">Create a "dummy" row in your Data Source by adding a row with the column 0 (initial column) with the value 0 (zero), and in column 1 with the text "Add New Row" for example.</p><p dir="ltr"><br></p><p dir="ltr"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070662864/original/uXAcj59gX1EmlOcL41J5cZjPqm8MupyeQg.png?1616601083" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070662864"></p><p dir="ltr"><br>The <strong>app is coded to treat 0 value rows as being a new row</strong>, and it will auto-generate a 36 character unique key (a GUID) for the row to ensure uniqueness.</p><p dir="ltr"><br></p><p dir="ltr"><span dir="ltr" style='color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;'>This way the user can select this row from the list to add a new row. When a Choices field's <strong>display column</strong> is set to column 1 displaying "Add New Row" and <strong>value column</strong> set to column 0 when linked to Data Source.</span> </p><p dir="ltr"><br></p><p dir="ltr">Setting the displayable title column of this dummy row will make the purpose of the dummy row clear to the user.</p><p><br></p><p dir="ltr">If you want the dummy row to always be visible as an option on the Choices field, then set the Default Value property to 0 and tick on the "Always Show Default Option" property.</p><p><br></p><p><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/11070663117/original/JSMqwS9hLkl3VwL7rlw1JaQCxCcPkjCY6Q.png?1616601372" style="width: auto;" class="fr-fic fr-fil fr-dib fr-bordered" data-attachment="[object Object]" data-id="11070663117"></p><p><br></p><p>Once you have implemented the above, test out your Form to see the results.<br>Try selecting an existing row and editing it, and also try creating a new row.</p><p><br></p><p dir="ltr">The Data Source will be automatically updated with the new row/update row, both on-device and then on the central data source on the web platform, once the form has been completed and uploaded.</p><p dir="ltr"><br></p><p dir="ltr">Adding a dummy row also becomes handy when you need to conditionally add or update a row based on a condition, you can then use a filter formula that will specify the dummy row for a new row or an existing row to update.</p><p><br></p><p><br></p><p><b style="font-size: medium;"><span style="font-size: 16px;">Hosted GET Considerations When Creating New Rows</span></b></p><p><br></p><p dir="ltr">If the Data Source you are updating is supplied to the app via a Hosted GET, then read on to review the integration considerations involved.</p><p><br></p><p>Here's what happens when a new row is created on the app:</p><p><br></p><p>1. A new record gets created with the Form Entry Id as the row's identifier in the local app-side Data Source copy.</p><p>This is done to give a consistent user experience, in that the user can see the new row they created any Data Source listings immediately after completing their creation Form entry.</p><p><br></p><p>2. When a Hosted GET is involved, we expect your system to receive the new Form Entry (e.g. via a REST connector on the Form), process it and check whether the Choices/Data Source field value matches the Form Entry id.</p><p>If your service finds this, then your system knows that this entry created a new row and you can process accordingly, creating a matching new row on your system with a new system-assigned id.</p><p><br></p><p>3a. If your Hosted GET does a full replace of rows on every call from the app - i.e. using the Rows property on your responses -  then you're done, nothing more to do :)</p><p>The next Hosted GET sync will clear all existing app rows (including the one stored locally with the Form Entry id) and replace it with your system's rows (including your new system assigned row).</p><p><br></p><p><em>OTHERWISE</em></p><p><br></p><p>3b. If you are making incremental updates on the Hosted GET - i.e. sending NewRows and DeletedRows back on your responses - then there is still the matter of removing the local app created new row identified by the Form Entry id, and adding your new system assigned row.</p><p><br></p><p>So when receiving the Form Entry on your web service, you will need to track the user's device id and Form Entry Id for use by your Hosted GET service, since you need to replace the app's local new row with your system assigned new row.</p><p>On the next app sync from the user's device (identified by their device id), your Hosted GET should then send a DeletedRows value containing the stored Form entry id, along with a NewRows value containing the new system assigned row values.</p><p>This will cause the app to delete the local entry id based row, and add the new system assigned row.</p><p><br></p><p dir="ltr"><br></p></div>
</body>
</html>
