<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Calculating the duration/time elapsed between Form start and finish (or between two fields)</title>
    <style>
        body { font-family: Verdana, sans-serif; padding: 40px; }
        h1 { color: #333; }
    </style>
</head>
<body>
    <h1>Calculating the duration/time elapsed between Form start and finish (or between two fields)</h1>
    <div dir="ltr"><p style="line-height: 1.3;">For some questionaire/survey type scenarios, you may wish to track the time it takes the user to fill out a Form, or maybe a section in the Form.</p><p style="line-height: 1.3;"><br></p><p style="line-height: 1.3;">This is done by storing a corresponding start and end date/time value, with these values being set when the user answers the first and last questions in the target Form or section.</p><p style="line-height: 1.3;"><br></p><p style="line-height: 1.3;">Once you have the start and end date/time values, you can then use a DATEDIFF() formula function to calculate the time elapsed in your desired unit of measure.</p><p style="line-height: 1.3;"><br></p><hr><p style="line-height: 1.3;"><strong><font size="3">Step by step guide</font></strong></p><p style="line-height: 1.3;"><strong><span style="font-size: medium;"><br></span></strong></p><p style="line-height: 1.3;">We're going to use Hidden fields for this example since we don't want the user to see these stored values.  <br>You<span> can also use Text or Date/Time fields if you wanted to display the start and finish date/time values to the user.</span></p><p style="line-height: 1.3;"><span><br></span></p><p style="line-height: 1.3;"><span>We're also assuming you have at least two question fields - one at the start with data name of "myfirstquestion" and one at the end named "mylastquestion".</span></p><p style="line-height: 1.3;"><span><br></span></p><p style="line-height: 1.3;">1. Add a Hidden field with data name of <span>"starttime"</span><span> </span><span>to the start of your Form design, and a similar "endtime" Hidden field at the end of the Form.</span></p><p style="line-height: 1.3;"><span><br></span></p><p style="line-height: 1.3;"><span>2. On these Hidden fields, set the Dynamic Value to be as follows:</span></p><p style="line-height: 1.3;">starttime field: <strong>FORMAT-DATE(NOW({{myfirstquestion}}), 'yyyy-MM-dd HH:mm:ss')</strong><span><br></span></p><p style="line-height: 1.3;">endtime field: <strong>FORMAT-DATE(NOW({{mylastquestion}}), 'yyyy-MM-dd HH:mm:ss')</strong></p><p style="line-height: 1.3;"><strong><br></strong></p><p style="line-height: 1.3;">Lets explain what the above formula is doing:</p><p style="line-height: 1.3;"><br></p><ul><li>The <strong>NOW()</strong> function will return the current date/time at the time of the function being triggered</li><li>The<span> </span><strong>{{dataname}}</strong><span> </span><span>parameter means that the NOW function will be triggered whenever an answer is set into the named field.</span></li><li>The <strong>FORMAT_DATE() </strong>function is needed because Hidden fields store text - not date - values.<br>So if you didn't do this, you would likely lose the time portion of the NOW value.</li><li>The formatting parameter ensures the date/time is captured as text like: "2016-10-21 14:10:55"</li></ul><p style="line-height: 1.3;"><br></p><p style="">Also, a worthy mention is that most .NET Format strings/specifiers can work with our <strong>FORMAT-DATE()</strong> formula function for added customization of captured Dates and Times.</p><p style="">Here is a link to .NET Format strings that may be of interest:</p><p style=""><a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings" rel="noreferrer noopener" target="_blank">https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings</a></p><p style="line-height: 1.3;"><br></p><p style="line-height: 1.3;">3. The final piece to this solution is to add one more field (Hidden, Text or Number) which has a Dynamic Value formula to calculate the difference between the finish and start date/time values.</p><p style="line-height: 1.3;"><br></p><p style="line-height: 1.3;">4. This field's formula would be :</p><p style="line-height: 1.3;"><br></p><p style="line-height: 1.3;"><b style="font-size: 13px;">DATEDIFF(({{starthidden}}), {{finishhidden}}, 'SS')</b></p><p style="line-height: 1.3;"><br></p><p style="line-height: 1.3;">This will give you the difference in seconds between the start and end times.</p><p style="line-height: 1.3;">You can of course then divide this value by 60 as desired to get a minute value.</p><p style="line-height: 1.3;">If you wish to get the difference in minutes, hours etc, simply change the 'SS' parameter as needed.</p><p style="line-height: 1.3;"><br></p><hr><p style="line-height: 1.3;"><strong><span style="font-size: medium;">Date/Time Difference Example App</span></strong></p><p style=""><br></p><p style="">To help you get acquainted with FORMAT-DATE(), DATEDIFF() and NOW() concepts, we've created an example app which we've published to our Examples Catalog.</p><p style=""><br></p><p style="">The Example App consists of 4 pages with various fields to achieve the capturing/displaying of data in different ways.</p><p style=""><br>► Page 1 - Introduction + Capture Start time of form<br>► Page 2 - Date Difference<br>► Page 3 - Time Difference<br>► Page 4 - Capture End time of form + Summary</p><p style=""><br>Using the above mentioned formula to calculate date/time differences, the form demonstrates how to achieve similar functionality with other forms you create.</p><p style=""><a href="https://support.Your Company.com/support/solutions/articles/11000025412-formula-cheat-sheet" rel="noreferrer noopener" target="_blank">Learn more about our date/time and data conversion formulas in our Formula Cheat Sheet</a></p><p style=""><br></p><p style="">To install the Date/Time Difference Example App:</p><p style=""><a href="https://secure.Your Company.com/Catalog?launch=Date/Time%20Difference%20Example%20App" rel="noreferrer noopener" target="_blank">Click here if your account resides on our US Server Node</a></p><p style=""><a href="https://secure-eu.Your Company.com/Catalog?launch=Date/Time%20Difference%20Example%20App" rel="noreferrer noopener" target="_blank">Click here if your account resides on our EU Server Node</a></p><p style=""><a href="https://secure-au.Your Company.com/Catalog?launch=Date/Time%20Difference%20Example%20App" rel="noreferrer noopener" target="_blank">Click here if your account resides on our AU Server Node</a></p><p><br></p><p style="line-height: 1.3;"><br></p><p style="line-height: 1.3;"><br></p></div>
</body>
</html>
